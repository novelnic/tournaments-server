(this["webpackJsonptournaments-react"]=this["webpackJsonptournaments-react"]||[]).push([[0],{39:function(e,t){e.exports=function(e){var t=[];return e.forEach((function(e){if(!e)return 0;var n,a=e.players&&e.players.reduce((function(e,t){return e+t.kills}),0)||0,r=0,c=e.placement;switch(!0){case 1===c:r=25;break;case 2===c:r=20;break;case 3===c:r=15;break;case 4===c:r=10;break;case c<=7:r=7;break;case c<=10:r=4;break;case c<=15:r=2;break;case c<=20:r=1}n=r+a,t.push(n)})),t.sort((function(e,t){return t-e})).slice(0,3).reduce((function(e,t){return e+t}),0)}},43:function(e,t,n){e.exports=n(74)},49:function(e,t,n){},50:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);n(44);var a=n(0),r=n.n(a),c=n(17),u=n.n(c),o=(n(49),n(50),n(5)),i=n(6),s=n(8),l=n(7),m=n(16),h=n(3),f=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement(m.b,{className:"navbar-brand",to:"/"},"Jup Null Tournaments"))}}]),n}(r.a.Component),p=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={tournament:e.tournament},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state.tournament,t=(Date.now(),new Date(0));t.setUTCSeconds(e.startTime),t=t.toLocaleTimeString("en-US",{timeZone:"America/New_York",hour:"2-digit",minute:"2-digit"});var n=new Date(0);return n.setUTCSeconds(e.endTime),n=n.toLocaleTimeString("en-US",{timeZone:"America/New_York",hour:"2-digit",minute:"2-digit"}),r.a.createElement(m.b,{to:"/tournaments/"+e._id,className:"list-group-item list-group-item-dark d-flex align-items-center justify-content-between"},r.a.createElement("h5",null,e.name),r.a.createElement("h5",null,e.teams.length," Teams Registered"),r.a.createElement("h5",null,t," - ",n))}}]),n}(r.a.Component),d=n(9),b=n.n(d);b.a.defaults.baseURL="";var v=function(){return b.a.get("/api/tournaments")},E=function(e){return b.a.get("/api/tournaments/"+e)},j=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={tournaments:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;v().then((function(t){return e.setState({tournaments:t.data})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center"},"Current Tournaments"),r.a.createElement("ul",{className:"list-group"},this.state.tournaments&&this.state.tournaments.map((function(e){return r.a.createElement(p,{key:e._id,tournament:e})}))))}}]),n}(r.a.Component),k=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"container"},r.a.createElement(j,null)))}}]),n}(r.a.Component),O=n(19),y=n.n(O),g=n(27),w=n(25),N=function(e){return b.a.get("/api/teams/".concat(e,"/score"))},x=function(e){return b.a.get("/api/teams",{params:{tournamentId:e}})},C=n(77),S=n(78),T=n(76),_=function(e){return b.a.get("/api/matches/"+e)},D=n(39),I=n.n(D),U=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={match:{}},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.matchId;_(t).then((function(t){var n=t.data;e.setState({match:n})}))}},{key:"render",value:function(){var e=this.state.match&&this.state.match.players,t=e&&e.reduce((function(e,t){return e+t.kills}),0);return r.a.createElement(S.a,{bg:"secondary"},r.a.createElement(S.a.Header,{className:"d-flex justify-content-between align-items-center"},r.a.createElement("h6",null,I()([this.state.match])," points"),r.a.createElement("h6",null,t," Kills"),r.a.createElement("h6",null,"Placement: ",this.state.match&&this.state.match.placement)),r.a.createElement(S.a.Body,null,e&&e.map((function(e){return r.a.createElement(T.a,{key:e.username,className:"justify-content-between align-items-center"},r.a.createElement("h6",null,e.username),r.a.createElement("h6",null,e.kills," Kills"))}))))}}]),n}(r.a.Component),B=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.team;return r.a.createElement(C.a,null,r.a.createElement(S.a,{bg:"dark"},r.a.createElement(C.a.Toggle,{as:S.a.Header,eventKey:"0"},r.a.createElement(T.a,{className:"align-items-center justify-content-between"},r.a.createElement("h5",null,e.name),r.a.createElement("h5",null,"Score: ",e.score))),r.a.createElement(C.a.Collapse,{eventKey:"0"},r.a.createElement(S.a.Body,null,e.matches.map((function(e){return r.a.createElement(U,{key:e,matchId:e})}))))))}}]),n}(r.a.Component),K=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={tournament:{},teams:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.tournamentId;E(t).then((function(t){var n=t.data;x(n._id).then(function(){var t=Object(w.a)(y.a.mark((function t(a){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.data,t.next=3,Promise.all(r.map(function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t._id).then((function(e){var n=e.data;return Object(g.a)(Object(g.a)({},t),{},{score:n})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:r=t.sent,e.setState({tournament:n,teams:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center"},this.state.tournament.name),this.state.teams.sort((function(e,t){return t-e})).map((function(e){return r.a.createElement(B,{key:e._id,team:e})}))))}}]),n}(r.a.Component),M=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(h.a,{path:"/",exact:!0,component:k}),r.a.createElement(h.a,{path:"/tournaments/:tournamentId",exact:!0,component:K})))}}]),n}(r.a.Component);var J=function(){return r.a.createElement(M,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.44be02f6.chunk.js.map